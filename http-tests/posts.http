### Dev-Blog API Tests - Posts

@baseUrl = http://localhost:4000
@contentType = application/json
@token = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImpvaG4uZG9lQGV4YW1wbGUuY29tIiwic3ViIjoiNjhiNzIxMzQ0NzNjMTk0YzI4MjkwMjVjIiwiaWF0IjoxNzU2ODMyMDUyLCJleHAiOjE3NTY5MTg0NTJ9.SjMeKhumBoK2giHXYx8USfubvmJrciEI8nq9TP2aRLM

### Get all posts (public)
GET {{baseUrl}}/posts

### Get a specific post by ID (public)
GET {{baseUrl}}/posts/POST_ID_HERE

### Create a new post (requires authentication)
POST {{baseUrl}}/posts
Content-Type: {{contentType}}
Authorization: {{token}}

{
  "title": "My First Blog Post",
  "authorName": "John Doe",
  "excerpt": "A comprehensive guide to getting started with web development and programming.",
  "tags": ["web-development", "programming", "tutorial"],
  "content": "This is the content of my first blog post. It contains some interesting information about web development and programming."
}

### Create another post
POST {{baseUrl}}/posts
Content-Type: {{contentType}}
Authorization: {{token}}

{
  "title": "Advanced NestJS Techniques",
  "authorName": "Jane Smith",
  "excerpt": "Learn advanced NestJS techniques including custom decorators, guards, and interceptors for building scalable applications.",
  "tags": ["nestjs", "nodejs", "backend", "advanced"],
  "content": "In this post, I'll explore advanced techniques for building scalable applications with NestJS, including custom decorators, guards, and interceptors."
}

### Get my posts (requires authentication)
GET {{baseUrl}}/posts/my-posts
Authorization: {{token}}

### Update a post (requires authentication - author only)
PATCH {{baseUrl}}/posts/68b72431473c194c28290262
Content-Type: {{contentType}}
Authorization: {{token}}

{
  "title": "Updated Blog Post Title",
  "authorName": "John Doe",
  "excerpt": "Updated excerpt for the blog post.",
  "tags": ["updated", "web-development", "programming"],
  "content": "This is the updated content of the blog post."
}

### Update only the title
PATCH {{baseUrl}}/posts/68b72431473c194c28290262
Content-Type: {{contentType}}
Authorization: {{token}}

{
  "title": "New Title Only"
}

### Update only the content
PATCH {{baseUrl}}/posts/68b72431473c194c28290262
Content-Type: {{contentType}}
Authorization: {{token}}

{
  "content": "This is the new content for the blog post."
}

### Delete a post (requires authentication - author only)
DELETE {{baseUrl}}/posts/68b72431473c194c28290262
Authorization: {{token}}

### Try to create a post without authentication
POST {{baseUrl}}/posts
Content-Type: {{contentType}}

{
  "title": "Unauthorized Post",
  "authorName": "Anonymous",
  "excerpt": "This should fail because no token is provided.",
  "tags": ["test"],
  "content": "This should fail because no token is provided."
}

### Try to get my posts without authentication
GET {{baseUrl}}/posts/my-posts

### Try to update a post without authentication
PATCH {{baseUrl}}/posts/68b72431473c194c28290262
Content-Type: {{contentType}}

{
  "title": "Unauthorized Update"
}

### Try to delete a post without authentication
DELETE {{baseUrl}}/posts/68b72431473c194c28290262
